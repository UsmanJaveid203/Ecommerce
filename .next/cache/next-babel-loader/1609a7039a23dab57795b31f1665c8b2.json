{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport StripeCheckout from 'react-stripe-checkout';\nimport { DeleteCartData } from '../../../redux/Action/CartAction';\nimport { useDispatch } from 'react-redux';\nimport CartStyle from '../../../public/styles/Cart.module.css';\nimport { Toast, ToastBody } from 'reactstrap';\nimport { useState } from 'react';\nexport default function index(props) {\n  var dispatch = new useDispatch();\n\n  var _useState = new useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var makePayment = function makePayment(token) {\n    var body = {\n      token: token,\n      price: props.price\n    };\n    var headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch('http://localhost:3000/api/cart/payment', {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(body)\n    }).then(function (res) {\n      dispatch(DeleteCartData(props.user_id));\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var SendMessage = function SendMessage() {\n    setMessage(\"You didn't buys any product first buy product\");\n    setTimeout(function () {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  return __jsx(React.Fragment, null, message !== \"\" ? __jsx(Toast, null, __jsx(ToastBody, null, message)) : \"\", props.price !== 0 ? __jsx(StripeCheckout, {\n    stripeKey: process.env.STRIPE_KEY,\n    token: makePayment,\n    name: \"Buy Product\"\n  }, __jsx(\"div\", {\n    className: CartStyle.card_btn\n  }, __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\"\n  }, \"Purchase Now\"))) : __jsx(\"div\", {\n    className: CartStyle.card_btn\n  }, __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: SendMessage\n  }, \"Purchase Now\")));\n}","map":null,"metadata":{},"sourceType":"module"}