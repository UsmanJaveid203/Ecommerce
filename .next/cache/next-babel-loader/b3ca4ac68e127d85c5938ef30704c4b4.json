{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport StripeCheckout from 'react-stripe-checkout';\nimport { DeleteCartData } from '../../../redux/Action/CartAction';\nimport { useDispatch } from 'react-redux';\nimport CartStyle from '../../../public/styles/Cart.module.css';\nimport { Toast, ToastBody } from 'reactstrap';\nimport { useState } from 'react';\nexport default function index(props) {\n  const dispatch = new useDispatch();\n  const [message, setMessage] = new useState(\"\");\n\n  const makePayment = token => {\n    const body = {\n      token,\n      price: props.price\n    };\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch('http://localhost:3000/api/cart/payment', {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(body)\n    }).then(res => {\n      dispatch(DeleteCartData(props.user_id));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const SendMessage = () => {\n    setMessage(\"You didn't buys any product first buy product\");\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  return __jsx(React.Fragment, null, message !== \"\" ? __jsx(Toast, null, __jsx(ToastBody, null, message)) : \"\", props.price !== 0 ? __jsx(StripeCheckout, {\n    stripeKey: process.env.STRIPE_KEY,\n    token: makePayment,\n    name: \"Buy Product\"\n  }, __jsx(\"div\", {\n    className: CartStyle.card_btn\n  }, __jsx(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\"\n  }, \"Purchase Now\"))) : __jsx(\"div\", {\n    className: CartStyle.card_btn\n  }, __jsx(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: SendMessage\n  }, \"Purchase Now\")));\n}","map":null,"metadata":{},"sourceType":"module"}