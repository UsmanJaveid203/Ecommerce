{"ast":null,"code":"export var SENDING_DATA = \"SENDING_DATA\";\nexport var GET_DATA = \"GET_DATA\";\nexport var UPDATE_DATA = \"UPDATE_DATA\";\nexport var REMOVE_DATA = \"REMOVE_DATA\";\nexport var DELETE_DATA = \"DELETE_DATA\"; // import cookie from 'js-cookie'; \n\nexport var DataIntoCookie = function DataIntoCookie(buy_product) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/add_to_cart\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(buy_product)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: SENDING_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\n_c = DataIntoCookie;\nexport var GetFromCookie = function GetFromCookie() {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/get_from_cart\", {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: GET_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\n_c2 = GetFromCookie;\nexport var RemoveFromCookie = function RemoveFromCookie(index) {\n  return function (dispatch) {\n    fetch(\"\".concat(process.env.HOST_URL, \"/api/cart/removeData/\").concat(index), {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: REMOVE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\n_c3 = RemoveFromCookie;\nexport var UpdateCounting = function UpdateCounting(userInfor) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/update_cart/\".concat(userInfor.id), {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(userInfor)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: UPDATE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\n_c4 = UpdateCounting;\nexport var DeleteCartData = function DeleteCartData(user_id) {\n  return function (dispatch) {\n    fetch(\"\".concat(process.env.HOST_URL, \"/api/buy/BuyProduct/\").concat(user_id), {\n      method: 'POST'\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = 0;\n      var totalPrise = 0;\n      var items = [];\n      dispatch({\n        type: DELETE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\n_c5 = DeleteCartData;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"DataIntoCookie\");\n$RefreshReg$(_c2, \"GetFromCookie\");\n$RefreshReg$(_c3, \"RemoveFromCookie\");\n$RefreshReg$(_c4, \"UpdateCounting\");\n$RefreshReg$(_c5, \"DeleteCartData\");","map":{"version":3,"sources":["E:/Projects/Ecommerce/redux/Action/CartAction.js"],"names":["SENDING_DATA","GET_DATA","UPDATE_DATA","REMOVE_DATA","DELETE_DATA","DataIntoCookie","buy_product","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","data","totalQty","totalPrise","items","type","length","price","payload","err","console","log","GetFromCookie","RemoveFromCookie","index","process","env","HOST_URL","UpdateCounting","userInfor","id","DeleteCartData","user_id"],"mappings":"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","sourcesContent":["export const SENDING_DATA = \"SENDING_DATA\";\r\nexport const GET_DATA = \"GET_DATA\";\r\nexport const UPDATE_DATA = \"UPDATE_DATA\";\r\nexport const REMOVE_DATA = \"REMOVE_DATA\";\r\nexport const DELETE_DATA = \"DELETE_DATA\";\r\n\r\n// import cookie from 'js-cookie'; \r\n\r\nexport const DataIntoCookie = (buy_product) => {\r\n  return function (dispatch) {\r\n    fetch(`http://localhost:3000/api/cart/product/add_to_cart`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(buy_product)\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      const totalQty = data.totalQty;\r\n      const totalPrise = data.totalPrise;\r\n      const items =data.items;\r\n      dispatch({\r\n        type: SENDING_DATA,\r\n        length: totalQty,\r\n        price: totalPrise,\r\n        payload: items\r\n      })\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\nexport const GetFromCookie = () => {\r\n  return function (dispatch) {\r\n    fetch(`http://localhost:3000/api/cart/product/get_from_cart`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"content-type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const totalQty = data.totalQty;\r\n        const totalPrise = data.totalPrise;\r\n        const items =data.items;\r\n        dispatch({\r\n          type: GET_DATA,\r\n          length: totalQty,\r\n          price: totalPrise,\r\n          payload: items\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n\r\nexport const RemoveFromCookie = (index) => {\r\n    return function (dispatch) {\r\n      fetch(`${process.env.HOST_URL}/api/cart/removeData/${index}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"content-type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const totalQty = data.totalQty;\r\n        const totalPrise = data.totalPrise;\r\n        const items =data.items;\r\n        dispatch({\r\n          type: REMOVE_DATA,\r\n          length: totalQty,\r\n          price: totalPrise,\r\n          payload: items\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\n\r\nexport const UpdateCounting = (userInfor) => {\r\n  return function (dispatch) {\r\n    fetch(`http://localhost:3000/api/cart/product/update_cart/${userInfor.id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(userInfor)\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      const totalQty = data.totalQty;\r\n      const totalPrise = data.totalPrise;\r\n      const items =data.items;\r\n      dispatch({\r\n        type: UPDATE_DATA,\r\n        length: totalQty,\r\n        price: totalPrise,\r\n        payload: items\r\n      })\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n\r\nexport const DeleteCartData = (user_id) => {\r\n  return function (dispatch) {\r\n    fetch(`${process.env.HOST_URL}/api/buy/BuyProduct/${user_id}`, {\r\n            method: 'POST'\r\n        })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      const totalQty = 0;\r\n      const totalPrise = 0;\r\n      const items =[];\r\n      dispatch({\r\n        type: DELETE_DATA,\r\n        length: totalQty,\r\n        price: totalPrise,\r\n        payload: items\r\n      })\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}