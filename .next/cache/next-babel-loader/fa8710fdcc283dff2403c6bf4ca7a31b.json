{"ast":null,"code":"export var SENDING_DATA = \"SENDING_DATA\";\nexport var GET_DATA = \"GET_DATA\";\nexport var UPDATE_DATA = \"UPDATE_DATA\";\nexport var REMOVE_DATA = \"REMOVE_DATA\";\nexport var DELETE_DATA = \"DELETE_DATA\"; // import cookie from 'js-cookie'; \n\nexport var DataIntoCookie = function DataIntoCookie(buy_product) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/add_to_cart\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(buy_product)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: SENDING_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var GetFromCookie = function GetFromCookie() {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/get_from_cart\", {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: GET_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var RemoveFromCookie = function RemoveFromCookie(index) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/removeData/\".concat(index), {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: REMOVE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var UpdateCounting = function UpdateCounting(userInfor) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/cart/product/update_cart/\".concat(userInfor.id), {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(userInfor)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = data.totalQty;\n      var totalPrise = data.totalPrise;\n      var items = data.items;\n      dispatch({\n        type: UPDATE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var DeleteCartData = function DeleteCartData(user_id) {\n  return function (dispatch) {\n    fetch(\"http://localhost:3000/api/buy/BuyProduct/\".concat(user_id), {\n      method: 'POST'\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      var totalQty = 0;\n      var totalPrise = 0;\n      var items = [];\n      dispatch({\n        type: DELETE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};","map":null,"metadata":{},"sourceType":"module"}