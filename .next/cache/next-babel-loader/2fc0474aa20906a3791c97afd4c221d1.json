{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Projects\\\\Ecommerce\\\\pages\\\\components\\\\CheckOut\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport StripeCheckout from 'react-stripe-checkout';\nimport { DeleteCartData } from '../../../redux/Action/CartAction';\nimport { useDispatch } from 'react-redux';\nimport CartStyle from '../../../public/styles/Cart.module.css';\nimport { Toast, ToastBody } from 'reactstrap';\nimport { useState } from 'react';\nexport default function index(props) {\n  var dispatch = new useDispatch();\n\n  var _useState = new useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var makePayment = function makePayment(token) {\n    var body = {\n      token: token,\n      price: props.price\n    };\n    var headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch('http://localhost:3000/api/cart/payment', {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(body)\n    }).then(function (res) {\n      dispatch(DeleteCartData(props.user_id));\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var SendMessage = function SendMessage() {\n    setMessage(\"You didn't buys any product first buy product\");\n    setTimeout(function () {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  return __jsx(React.Fragment, null, message !== \"\" ? __jsx(Toast, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 27\n    }\n  }, __jsx(ToastBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 34\n    }\n  }, message)) : \"\", props.price !== 0 ? __jsx(StripeCheckout, {\n    stripeKey: process.env.STRIPE_KEY,\n    token: makePayment,\n    name: \"Buy Product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 30\n    }\n  }, __jsx(\"div\", {\n    className: CartStyle.card_btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Purchase Now\"))) : __jsx(\"div\", {\n    className: CartStyle.card_btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: SendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Purchase Now\")));\n}","map":{"version":3,"sources":["E:/Projects/Ecommerce/pages/components/CheckOut/index.js"],"names":["StripeCheckout","DeleteCartData","useDispatch","CartStyle","Toast","ToastBody","useState","index","props","dispatch","message","setMessage","makePayment","token","body","price","headers","fetch","method","JSON","stringify","then","res","user_id","err","console","log","SendMessage","setTimeout","process","env","STRIPE_KEY","card_btn"],"mappings":";;;;AAAA,OAAOA,cAAP,MAA2B,uBAA3B;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,SAAP,MAAsB,wCAAtB;AACA,SAASC,KAAT,EAAgBC,SAAhB,QAAiC,YAAjC;AACA,SAAQC,QAAR,QAAuB,OAAvB;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACjC,MAAMC,QAAQ,GAAG,IAAIP,WAAJ,EAAjB;;AADiC,kBAEF,IAAII,QAAJ,CAAa,EAAb,CAFE;AAAA;AAAA,MAE1BI,OAF0B;AAAA,MAEhBC,UAFgB;;AAIjC,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC3B,QAAMC,IAAI,GAAG;AACTD,MAAAA,KAAK,EAALA,KADS;AAETE,MAAAA,KAAK,EAACP,KAAK,CAACO;AAFH,KAAb;AAIA,QAAMC,OAAO,GAAG;AACZ,sBAAgB;AADJ,KAAhB;AAIA,WAAOC,KAAK,CAAC,wCAAD,EAA2C;AACnDC,MAAAA,MAAM,EAAE,MAD2C;AAEnDF,MAAAA,OAAO,EAAPA,OAFmD;AAGnDF,MAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AAH6C,KAA3C,CAAL,CAKFO,IALE,CAKG,UAAAC,GAAG,EAAI;AACTb,MAAAA,QAAQ,CAACR,cAAc,CAACO,KAAK,CAACe,OAAP,CAAf,CAAR;AACH,KAPE,WAQI,UAAAC,GAAG,EAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAVE,CAAP;AAWH,GApBD;;AAsBA,MAAMG,WAAW,GAAG,SAAdA,WAAc,GAAK;AACrBhB,IAAAA,UAAU,CAAC,+CAAD,CAAV;AACAiB,IAAAA,UAAU,CAAC,YAAI;AACXjB,MAAAA,UAAU,CAAC,EAAD,CAAV;AACH,KAFS,EAER,IAFQ,CAAV;AAGH,GALD;;AAOA,SACI,4BACED,OAAO,KAAK,EAAb,GAAiB,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYA,OAAZ,CAAP,CAAjB,GAAmE,EADpE,EAEEF,KAAK,CAACO,KAAN,KAAgB,CAAjB,GAAoB,MAAC,cAAD;AACjB,IAAA,SAAS,EAAEc,OAAO,CAACC,GAAR,CAAYC,UADN;AAEjB,IAAA,KAAK,EAAEnB,WAFU;AAGjB,IAAA,IAAI,EAAC,aAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKjB;AAAK,IAAA,SAAS,EAAET,SAAS,CAAC6B,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,aAAM,iBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CALiB,CAApB,GASD;AAAK,IAAA,SAAS,EAAE7B,SAAS,CAAC6B,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,aAAM,iBAA5B;AAA8C,IAAA,OAAO,EAAEL,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAXA,CADJ;AAiBH","sourcesContent":["import StripeCheckout from 'react-stripe-checkout';\r\nimport { DeleteCartData } from '../../../redux/Action/CartAction';\r\nimport { useDispatch } from 'react-redux';\r\nimport CartStyle from '../../../public/styles/Cart.module.css';\r\nimport { Toast, ToastBody } from 'reactstrap';\r\nimport {useState} from 'react';\r\n\r\nexport default function index(props) {\r\n    const dispatch = new useDispatch();\r\n    const [message , setMessage] = new useState(\"\");\r\n\r\n    const makePayment = (token) => {\r\n        const body = {\r\n            token,\r\n            price:props.price\r\n        }\r\n        const headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n\r\n        return fetch('http://localhost:3000/api/cart/payment', {\r\n            method: 'POST',\r\n            headers,\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(res => {\r\n                dispatch(DeleteCartData(props.user_id));\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    const SendMessage = () =>{\r\n        setMessage(\"You didn't buys any product first buy product\");\r\n        setTimeout(()=>{\r\n            setMessage(\"\");\r\n        },2000)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {(message !== \"\")?<Toast><ToastBody>{message}</ToastBody></Toast> : \"\"}\r\n        {(props.price !== 0)?<StripeCheckout\r\n            stripeKey={process.env.STRIPE_KEY}\r\n            token={makePayment}\r\n            name=\"Buy Product\"\r\n        >\r\n            <div className={CartStyle.card_btn}>\r\n                <button type=\"button\" class=\"btn btn-primary\" >Purchase Now</button>\r\n            </div>\r\n        </StripeCheckout>:\r\n        <div className={CartStyle.card_btn}>\r\n            <button type=\"button\" class=\"btn btn-primary\" onClick={SendMessage}>Purchase Now</button>\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}