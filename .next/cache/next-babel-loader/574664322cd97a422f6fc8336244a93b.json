{"ast":null,"code":"export const SENDING_DATA = \"SENDING_DATA\";\nexport const GET_DATA = \"GET_DATA\";\nexport const UPDATE_DATA = \"UPDATE_DATA\";\nexport const REMOVE_DATA = \"REMOVE_DATA\";\nexport const DELETE_DATA = \"DELETE_DATA\"; // import cookie from 'js-cookie'; \n\nexport const DataIntoCookie = buy_product => {\n  return function (dispatch) {\n    fetch(`http://localhost:3000/api/cart/product/add_to_cart`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(buy_product)\n    }).then(res => res.json()).then(data => {\n      const totalQty = data.totalQty;\n      const totalPrise = data.totalPrise;\n      const items = data.items;\n      dispatch({\n        type: SENDING_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const GetFromCookie = () => {\n  return function (dispatch) {\n    fetch(`http://localhost:3000/api/cart/product/get_from_cart`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      const totalQty = data.totalQty;\n      const totalPrise = data.totalPrise;\n      const items = data.items;\n      dispatch({\n        type: GET_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const RemoveFromCookie = index => {\n  return function (dispatch) {\n    fetch(`http://localhost:3000/api/cart/removeData/${index}`, {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      const totalQty = data.totalQty;\n      const totalPrise = data.totalPrise;\n      const items = data.items;\n      dispatch({\n        type: REMOVE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const UpdateCounting = userInfor => {\n  return function (dispatch) {\n    fetch(`http://localhost:3000/api/cart/product/update_cart/${userInfor.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(userInfor)\n    }).then(res => res.json()).then(data => {\n      const totalQty = data.totalQty;\n      const totalPrise = data.totalPrise;\n      const items = data.items;\n      dispatch({\n        type: UPDATE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const DeleteCartData = user_id => {\n  return function (dispatch) {\n    fetch(`http://localhost:3000/api/buy/BuyProduct/${user_id}`, {\n      method: 'POST'\n    }).then(res => res.json()).then(data => {\n      const totalQty = 0;\n      const totalPrise = 0;\n      const items = [];\n      dispatch({\n        type: DELETE_DATA,\n        length: totalQty,\n        price: totalPrise,\n        payload: items\n      });\n    }).catch(err => console.log(err));\n  };\n};","map":null,"metadata":{},"sourceType":"module"}