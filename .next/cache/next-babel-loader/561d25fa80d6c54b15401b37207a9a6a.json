{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\Ecommerce\\\\pages\\\\MyBlog\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Sidebar from '../components/SideMenu';\nimport { parseCookies } from 'nookies';\nimport jwt from 'jsonwebtoken';\nimport Link from 'next/link';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport BlogAreaStyle from '../../public/styles/Blogarea.module.css';\nimport Pagination from '../components/Pagination';\nimport { useState } from 'react';\nimport Head from 'next/head';\nexport default function index({\n  user_role,\n  token,\n  result,\n  user_id\n}) {\n  const [values, setValues] = new useState(null);\n\n  const changeValueHanler = number => {\n    fetch(`http://localhost:3000/api/blog/get_blog/${user_id}/${number}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setValues(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  let results = values == null ? result : values;\n\n  if (token) {\n    if (user_role === \"Admin\" || user_role === \"root\") {\n      return __jsx(React.Fragment, null, __jsx(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, __jsx(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }\n      }, \"Blog\")), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }\n      }, __jsx(Sidebar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }\n      }), __jsx(\"div\", {\n        className: `col-lg-9 col-12`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: BlogAreaStyle.latest_blog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 37\n        }\n      }, __jsx(\"div\", {\n        className: `${BlogAreaStyle.title} text-center`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 41\n        }\n      }, __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 45\n        }\n      }, \"latest blog\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 45\n        }\n      }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet lacus enim.\")))), results.data.length !== 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 37\n        }\n      }, results.data.map(value => {\n        return __jsx(\"div\", {\n          key: value._id,\n          className: `col-md-6 col-lg-4 col-xl-4 ${BlogAreaStyle.card_div}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 52\n          }\n        }, __jsx(Card, {\n          className: `card ${BlogAreaStyle.main_box}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 49\n          }\n        }, __jsx(\"div\", {\n          className: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 53\n          }\n        }, __jsx(\"img\", {\n          className: \"img-thumbnail\",\n          src: `/images/${value.b_img}`,\n          alt: \"Blog photo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 57\n          }\n        })), __jsx(\"div\", {\n          className: BlogAreaStyle.b_content,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 53\n          }\n        }, __jsx(\"div\", {\n          className: BlogAreaStyle.title_blog,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 57\n          }\n        }, __jsx(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 61\n          }\n        }, value.b_name)), __jsx(CardActions, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 57\n          }\n        }, __jsx(Link, {\n          href: `../MyBlog/${value._id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 61\n          }\n        }, __jsx(\"a\", {\n          className: BlogAreaStyle.btn_link,\n          size: \"small\",\n          color: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 65\n          }\n        }, \" Read here \", __jsx(\"i\", {\n          className: \"fas fa-arrow-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 143\n          }\n        })))))));\n      })), __jsx(Pagination, {\n        result: results,\n        changeHandler: changeValueHanler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      })) : __jsx(\"div\", {\n        className: BlogAreaStyle.No_record_div,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 39\n        }\n      }, __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 41\n        }\n      }, \"Not found any blog\"))))));\n    }\n  }\n}\nexport async function getServerSideProps(ctx) {\n  const {\n    token\n  } = parseCookies(ctx);\n  let user = jwt.decode(token);\n  let user_role = user ? user.u_role : \"\";\n  let user_id = user ? user.u_id : \"\";\n\n  if (!token || user_role === \"u_role\") {\n    const {\n      res\n    } = ctx;\n    res.writeHead(302, {\n      Location: \"/\"\n    });\n    res.end();\n    return {\n      props: {}\n    };\n  } else {\n    let res = await fetch(`http://localhost:3000/api/blog/get_blog/${user_id}`);\n    let result = await res.json();\n    return {\n      props: {\n        user_role,\n        token,\n        result,\n        user_id\n      }\n    };\n  }\n}","map":{"version":3,"sources":["E:/Projects/Ecommerce/pages/MyBlog/index.js"],"names":["Sidebar","parseCookies","jwt","Link","Card","CardActions","BlogAreaStyle","Pagination","useState","Head","index","user_role","token","result","user_id","values","setValues","changeValueHanler","number","fetch","method","headers","then","res","json","data","catch","err","console","log","results","latest_blog","title","length","map","value","_id","card_div","main_box","b_img","b_content","title_blog","b_name","btn_link","No_record_div","getServerSideProps","ctx","user","decode","u_role","u_id","writeHead","Location","end","props"],"mappings":"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","sourcesContent":["import Sidebar from '../components/SideMenu';\r\nimport { parseCookies } from 'nookies';\r\nimport jwt from 'jsonwebtoken';\r\nimport Link from 'next/link';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport BlogAreaStyle from '../../public/styles/Blogarea.module.css';\r\nimport Pagination from '../components/Pagination';\r\nimport { useState } from 'react'\r\nimport Head from 'next/head';\r\n\r\nexport default function index({ user_role, token, result, user_id }) {\r\n    const [values, setValues] = new useState(null);\r\n    const changeValueHanler = (number) => {\r\n        fetch(`http://localhost:3000/api/blog/get_blog/${user_id}/${number}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                setValues(data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    let results = (values == null) ? result : values;\r\n\r\n    if (token) {\r\n        if (user_role === \"Admin\" || user_role === \"root\") {\r\n            return (\r\n                <>\r\n                    <Head>\r\n                        <title>Blog</title>\r\n                    </Head>\r\n                    <div className=\"row\">\r\n                        <Sidebar />\r\n                        <div className={`col-lg-9 col-12`}>\r\n                            <div className={BlogAreaStyle.latest_blog}>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-12\">\r\n                                        <div className={`${BlogAreaStyle.title} text-center`}>\r\n                                            <h1>latest blog</h1>\r\n                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet lacus enim.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {(results.data.length !== 0) ? <>\r\n                                    <div className=\"row\">\r\n                                        {results.data.map(value => {\r\n                                            return <div key={value._id} className={`col-md-6 col-lg-4 col-xl-4 ${BlogAreaStyle.card_div}`}>\r\n                                                <Card className={`card ${BlogAreaStyle.main_box}`}>\r\n                                                    <div className=\"text-center\">\r\n                                                        <img className=\"img-thumbnail\" src={`/images/${value.b_img}`} alt=\"Blog photo\" />\r\n                                                    </div>\r\n                                                    <div className={BlogAreaStyle.b_content}>\r\n                                                        <div className={BlogAreaStyle.title_blog}>\r\n                                                            <h3>{value.b_name}</h3>\r\n                                                        </div>\r\n                                                        <CardActions>\r\n                                                            <Link href={`../MyBlog/${value._id}`}>\r\n                                                                <a className={BlogAreaStyle.btn_link} size=\"small\" color=\"primary\"> Read here <i className=\"fas fa-arrow-right\"></i></a>\r\n                                                            </Link>\r\n                                                        </CardActions>\r\n                                                    </div>\r\n                                                </Card>\r\n                                            </div>\r\n                                        })\r\n                                        }\r\n                                    </div>\r\n                                    <Pagination result={results} changeHandler={changeValueHanler} />\r\n                                </>\r\n                                    : <div className={BlogAreaStyle.No_record_div}>\r\n                                        <h1>Not found any blog</h1>\r\n                                    </div>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport async function getServerSideProps(ctx) {\r\n    const { token } = parseCookies(ctx);\r\n    let user = jwt.decode(token);\r\n    let user_role = (user) ? user.u_role : \"\";\r\n    let user_id = (user) ? user.u_id : \"\";\r\n\r\n    if (!token || user_role === \"u_role\") {\r\n        const { res } = ctx\r\n        res.writeHead(302, { Location: \"/\" })\r\n        res.end()\r\n        return {\r\n            props: {}\r\n        }\r\n    } else {\r\n        let res = await fetch(`http://localhost:3000/api/blog/get_blog/${user_id}`)\r\n        let result = await res.json();\r\n        return {\r\n            props: { user_role, token, result, user_id }\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}