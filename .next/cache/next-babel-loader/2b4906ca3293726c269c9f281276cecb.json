{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Sidebar from '../components/SideMenu';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport CommunityStyle from '../../public/styles/Community.module.css';\nimport { useState } from 'react';\nimport Pagination from '../components/Pagination';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nvar Accordion = withStyles({\n  root: {\n    border: '1px solid rgba(0, 0, 0, .125)',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0\n    },\n    '&:before': {\n      display: 'none'\n    },\n    '&$expanded': {\n      margin: 'auto'\n    }\n  },\n  expanded: {}\n})(MuiAccordion);\nvar AccordionSummary = withStyles({\n  root: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n    borderBottom: '1px solid rgba(0, 0, 0, .125)',\n    marginBottom: -1,\n    minHeight: 56,\n    '&$expanded': {\n      minHeight: 56\n    }\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0'\n    }\n  },\n  expanded: {}\n})(MuiAccordionSummary);\nvar AccordionDetails = withStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(2)\n    }\n  };\n})(MuiAccordionDetails);\nexport var __N_SSP = true;\nexport default function index(_ref) {\n  var _this = this;\n\n  var user_role = _ref.user_role,\n      token = _ref.token,\n      result = _ref.result;\n\n  var _useState = new useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var router = useRouter();\n\n  var DeleteHandler = function DeleteHandler(user_id) {\n    fetch(\"http://localhost:3000/api/user/delteData/\".concat(user_id), {\n      method: 'DELETE',\n      headers: {\n        'Authorization': \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      router.push('/Community');\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var changeValueHanler = function changeValueHanler(number) {\n    fetch(\"http://localhost:3000/api/user/getAllData/\".concat(number), {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setValues(data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var results = values == null ? result : values;\n\n  if (token || user_role === \"root\") {\n    var _results$data, _results$data2;\n\n    var _React$useState = React.useState('panel1'),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        expanded = _React$useState2[0],\n        setExpanded = _React$useState2[1];\n\n    var handleChange = function handleChange(panel) {\n      return function (event, newExpanded) {\n        setExpanded(newExpanded ? panel : false);\n      };\n    };\n\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(Sidebar, null), __jsx(\"div\", {\n      className: \"col-lg-8 col-12\"\n    }, __jsx(\"div\", {\n      className: \"container my-5 \".concat(CommunityStyle.MainDiv)\n    }, __jsx(\"h1\", {\n      className: \"\".concat(CommunityStyle.mainHead)\n    }, \"All User\"), (results === null || results === void 0 ? void 0 : (_results$data = results.data) === null || _results$data === void 0 ? void 0 : _results$data.length) !== 0 ? __jsx(React.Fragment, null, results === null || results === void 0 ? void 0 : (_results$data2 = results.data) === null || _results$data2 === void 0 ? void 0 : _results$data2.map(function (u_values) {\n      return __jsx(Accordion, {\n        square: true,\n        expanded: expanded === u_values._id,\n        onChange: handleChange(u_values._id)\n      }, __jsx(AccordionSummary, {\n        \"aria-controls\": \"panel1d-content\",\n        id: \"panel1d-header\"\n      }, __jsx(Typography, {\n        className: \"\".concat(CommunityStyle.SmallHead)\n      }, __jsx(\"strong\", null, \"Name : \"), u_values.u_fname, \" \", u_values.u_sname)), __jsx(AccordionDetails, null, __jsx(Typography, {\n        className: CommunityStyle.detail_main_duv\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-md-3 \".concat(CommunityStyle.photo)\n      }, u_values.u_image ? __jsx(\"img\", {\n        src: \"/images/\".concat(u_values.u_image),\n        className: \"rounded float-start\",\n        alt: \"User_Photo\"\n      }) : __jsx(\"img\", {\n        src: \"/images/profile_img.png\",\n        className: \"rounded float-start\",\n        alt: \"User_Photo\"\n      })), __jsx(\"div\", {\n        className: \"col-md-6 \".concat(CommunityStyle.user_detail)\n      }, __jsx(\"h3\", null, __jsx(\"strong\", null, \"Name  : \"), u_values.u_fname, \" \", u_values.u_sname), __jsx(\"h3\", null, __jsx(\"strong\", null, \"Gmail : \"), u_values.u_email), __jsx(\"h3\", null, __jsx(\"strong\", null, \"Role    : \"), u_values.u_role), __jsx(\"div\", {\n        className: CommunityStyle.button\n      }, __jsx(Link, {\n        href: \"/Community/\".concat(u_values._id)\n      }, __jsx(\"a\", {\n        type: \"button\",\n        className: \"btn \".concat(CommunityStyle.btnn)\n      }, \"Edit \", __jsx(\"i\", {\n        className: \"fas fa-edit\"\n      }))), __jsx(\"button\", {\n        type: \"button\",\n        className: \"btn \".concat(CommunityStyle.btnn),\n        onClick: DeleteHandler.bind(_this, u_values._id)\n      }, \"Delete \", __jsx(\"i\", {\n        className: \"fas fa-trash\"\n      }))))))));\n    }), __jsx(Pagination, {\n      result: results,\n      changeHandler: changeValueHanler\n    })) : __jsx(\"div\", {\n      className: CommunityStyle.No_record_div\n    }, __jsx(\"h1\", null, \"Not found any user\"))))));\n  }\n}","map":null,"metadata":{},"sourceType":"module"}