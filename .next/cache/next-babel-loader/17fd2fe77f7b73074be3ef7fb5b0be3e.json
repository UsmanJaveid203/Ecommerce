{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\Projects\\\\Ecommerce\\\\pages\\\\Community\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Sidebar from '../components/SideMenu';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport CommunityStyle from '../../public/styles/Community.module.css';\nimport { useState } from 'react';\nimport Pagination from '../components/Pagination';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nvar Accordion = withStyles({\n  root: {\n    border: '1px solid rgba(0, 0, 0, .125)',\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0\n    },\n    '&:before': {\n      display: 'none'\n    },\n    '&$expanded': {\n      margin: 'auto'\n    }\n  },\n  expanded: {}\n})(MuiAccordion);\nvar AccordionSummary = withStyles({\n  root: {\n    backgroundColor: 'rgba(0, 0, 0, .03)',\n    borderBottom: '1px solid rgba(0, 0, 0, .125)',\n    marginBottom: -1,\n    minHeight: 56,\n    '&$expanded': {\n      minHeight: 56\n    }\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0'\n    }\n  },\n  expanded: {}\n})(MuiAccordionSummary);\nvar AccordionDetails = withStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(2)\n    }\n  };\n})(MuiAccordionDetails);\nexport var __N_SSP = true;\nexport default function index(_ref) {\n  _s();\n\n  var _this = this;\n\n  var user_role = _ref.user_role,\n      token = _ref.token,\n      result = _ref.result;\n\n  var _useState = new useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var router = useRouter();\n\n  var DeleteHandler = function DeleteHandler(user_id) {\n    fetch(\"http://localhost:3000/api/user/delteData/\".concat(user_id), {\n      method: 'DELETE',\n      headers: {\n        'Authorization': \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      router.push('/Community');\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var changeValueHanler = function changeValueHanler(number) {\n    fetch(\"http://localhost:3000/api/user/getAllData/\".concat(number), {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setValues(data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var results = values == null ? result : values;\n\n  if (token || user_role === \"root\") {\n    var _React$useState = React.useState('panel1'),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        expanded = _React$useState2[0],\n        setExpanded = _React$useState2[1];\n\n    var handleChange = function handleChange(panel) {\n      return function (event, newExpanded) {\n        setExpanded(newExpanded ? panel : false);\n      };\n    };\n\n    return __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, __jsx(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }), __jsx(\"div\", {\n      className: \"col-lg-8 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"container my-5 \".concat(CommunityStyle.MainDiv),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, __jsx(\"h1\", {\n      className: \"\".concat(CommunityStyle.mainHead),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"All User\"), results.data.length !== 0 ? __jsx(React.Fragment, null, results.data.map(function (u_values) {\n      return __jsx(Accordion, {\n        square: true,\n        expanded: expanded === u_values._id,\n        onChange: handleChange(u_values._id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 44\n        }\n      }, __jsx(AccordionSummary, {\n        \"aria-controls\": \"panel1d-content\",\n        id: \"panel1d-header\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 41\n        }\n      }, __jsx(Typography, {\n        className: \"\".concat(CommunityStyle.SmallHead),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 45\n        }\n      }, __jsx(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 99\n        }\n      }, \"Name : \"), u_values.u_fname, \" \", u_values.u_sname)), __jsx(AccordionDetails, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 41\n        }\n      }, __jsx(Typography, {\n        className: CommunityStyle.detail_main_duv,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 45\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 49\n        }\n      }, __jsx(\"div\", {\n        className: \"col-md-3 \".concat(CommunityStyle.photo),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 53\n        }\n      }, u_values.u_image ? __jsx(\"img\", {\n        src: \"/images/\".concat(u_values.u_image),\n        className: \"rounded float-start\",\n        alt: \"User_Photo\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 79\n        }\n      }) : __jsx(\"img\", {\n        src: \"/images/profile_img.png\",\n        className: \"rounded float-start\",\n        alt: \"User_Photo\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 63\n        }\n      })), __jsx(\"div\", {\n        className: \"col-md-6 \".concat(CommunityStyle.user_detail),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 53\n        }\n      }, __jsx(\"h3\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 57\n        }\n      }, __jsx(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 61\n        }\n      }, \"Name  : \"), u_values.u_fname, \" \", u_values.u_sname), __jsx(\"h3\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 57\n        }\n      }, __jsx(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 61\n        }\n      }, \"Gmail : \"), u_values.u_email), __jsx(\"h3\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 57\n        }\n      }, __jsx(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 61\n        }\n      }, \"Role    : \"), u_values.u_role), __jsx(\"div\", {\n        className: CommunityStyle.button,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 57\n        }\n      }, __jsx(Link, {\n        href: \"/Community/\".concat(u_values._id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 61\n        }\n      }, __jsx(\"a\", {\n        type: \"button\",\n        className: \"btn \".concat(CommunityStyle.btnn),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 65\n        }\n      }, \"Edit \", __jsx(\"i\", {\n        className: \"fas fa-edit\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 128\n        }\n      }))), __jsx(\"button\", {\n        type: \"button\",\n        className: \"btn \".concat(CommunityStyle.btnn),\n        onClick: DeleteHandler.bind(_this, u_values._id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 61\n        }\n      }, \"Delete \", __jsx(\"i\", {\n        className: \"fas fa-trash\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 180\n        }\n      }))))))));\n    }), __jsx(Pagination, {\n      result: results,\n      changeHandler: changeValueHanler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      }\n    })) : __jsx(\"div\", {\n      className: CommunityStyle.No_record_div,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 35\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 37\n      }\n    }, \"Not found any user\"))))));\n  }\n}\n\n_s(index, \"e5jrOKKBwkUDOA9meuSMPv6lqy8=\", false, function () {\n  return [useRouter];\n});","map":{"version":3,"sources":["E:/Projects/Ecommerce/pages/Community/index.js"],"names":["Sidebar","withStyles","MuiAccordion","MuiAccordionSummary","MuiAccordionDetails","Typography","CommunityStyle","useState","Pagination","Link","useRouter","Accordion","root","border","boxShadow","borderBottom","display","margin","expanded","AccordionSummary","backgroundColor","marginBottom","minHeight","content","AccordionDetails","theme","padding","spacing","index","user_role","token","result","values","setValues","router","DeleteHandler","user_id","fetch","method","headers","then","res","json","data","push","err","console","log","changeValueHanler","number","results","React","setExpanded","handleChange","panel","event","newExpanded","MainDiv","mainHead","length","map","u_values","_id","SmallHead","u_fname","u_sname","detail_main_duv","photo","u_image","user_detail","u_email","u_role","button","btnn","bind","No_record_div"],"mappings":"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","sourcesContent":["import Sidebar from '../components/SideMenu';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MuiAccordion from '@material-ui/core/Accordion';\r\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CommunityStyle from '../../public/styles/Community.module.css';\r\nimport { parseCookies } from 'nookies';\r\nimport jwt from 'jsonwebtoken';\r\nimport { useState } from 'react'\r\nimport Pagination from '../components/Pagination';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst Accordion = withStyles({\r\n    root: {\r\n        border: '1px solid rgba(0, 0, 0, .125)',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(MuiAccordion);\r\n\r\nconst AccordionSummary = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgba(0, 0, 0, .03)',\r\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(MuiAccordionSummary);\r\n\r\nconst AccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}))(MuiAccordionDetails);\r\n\r\n\r\n\r\nexport default function index({ user_role, token, result }) {\r\n\r\n    const [values, setValues] = new useState(null);\r\n    const router = useRouter();\r\n\r\n    const DeleteHandler = (user_id) => {\r\n\r\n        fetch(`http://localhost:3000/api/user/delteData/${user_id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                router.push('/Community')\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    const changeValueHanler = (number) => {\r\n        fetch(`http://localhost:3000/api/user/getAllData/${number}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                setValues(data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    let results = (values == null) ? result : values;\r\n\r\n    if (token || user_role === \"root\") {\r\n        const [expanded, setExpanded] = React.useState('panel1');\r\n\r\n        const handleChange = (panel) => (event, newExpanded) => {\r\n            setExpanded(newExpanded ? panel : false);\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"row\">\r\n                    <Sidebar />\r\n                    <div className={`col-lg-8 col-12`}>\r\n                        <div className={`container my-5 ${CommunityStyle.MainDiv}`}>\r\n                            <h1 className={`${CommunityStyle.mainHead}`}>All User</h1>\r\n                            {(results.data.length !== 0) ? <>\r\n                                {results.data.map((u_values) => {\r\n                                    return <Accordion square expanded={expanded === u_values._id} onChange={handleChange(u_values._id)}>\r\n                                        <AccordionSummary aria-controls=\"panel1d-content\" id=\"panel1d-header\">\r\n                                            <Typography className={`${CommunityStyle.SmallHead}`}><strong>Name : </strong>{u_values.u_fname} {u_values.u_sname}</Typography>\r\n                                        </AccordionSummary>\r\n                                        <AccordionDetails>\r\n                                            <Typography className={CommunityStyle.detail_main_duv}>\r\n                                                <div className=\"row\">\r\n                                                    <div className={`col-md-3 ${CommunityStyle.photo}`}>\r\n                                                        {(u_values.u_image) ? <img src={`/images/${u_values.u_image}`} className=\"rounded float-start\" alt=\"User_Photo\" />\r\n                                                            : <img src={`/images/profile_img.png`} className=\"rounded float-start\" alt=\"User_Photo\" />}\r\n                                                    </div>\r\n                                                    <div className={`col-md-6 ${CommunityStyle.user_detail}`}>\r\n                                                        <h3><strong>Name  : </strong>{u_values.u_fname} {u_values.u_sname}</h3>\r\n                                                        <h3><strong>Gmail : </strong>{u_values.u_email}</h3>\r\n                                                        <h3><strong>Role    : </strong>{u_values.u_role}</h3>\r\n\r\n                                                        <div className={CommunityStyle.button}>\r\n                                                            <Link href={`/Community/${u_values._id}`}>\r\n                                                                <a type=\"button\" className={`btn ${CommunityStyle.btnn}`}>Edit <i className=\"fas fa-edit\"></i></a>\r\n                                                            </Link>\r\n                                                            <button type=\"button\" className={`btn ${CommunityStyle.btnn}`} onClick={DeleteHandler.bind(this, u_values._id)}>Delete <i className=\"fas fa-trash\"></i></button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </Typography>\r\n                                        </AccordionDetails>\r\n                                    </Accordion>\r\n                                })}\r\n                                <Pagination result={results} changeHandler={changeValueHanler} />\r\n                            </> : <div className={CommunityStyle.No_record_div}>\r\n                                    <h1>Not found any user</h1>\r\n                                </div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport async function getServerSideProps(ctx) {\r\n    const { token } = parseCookies(ctx);\r\n    let user = jwt.decode(token);\r\n    let user_role = (user) ? user.u_role : \"\";\r\n\r\n    if (!token || user_role === \"Admin\" || user_role === \"User\") {\r\n        const { res } = ctx\r\n        res.writeHead(302, { Location: \"/\" })\r\n        res.end()\r\n        return {\r\n            props: {}\r\n        }\r\n    } else {\r\n        let res = await fetch(\"http://localhost:3000/api/user/getAllData\", {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        let result = await res.json();\r\n        return {\r\n            props: { user_role, token, result }\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}